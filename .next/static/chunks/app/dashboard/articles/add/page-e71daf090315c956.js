(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9369],{1859:(e,s,a)=>{Promise.resolve().then(a.bind(a,5748))},5748:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>j});var l=a(5155),t=a(2115),i=a(5695),n=a(3604),c=a(7733),d=a(7168),r=a(9852),o=a(5784),u=a(402),h=a(3580),m=a(1677),x=a(8482),p=a(492);function j(){let{t:e,language:s}=(0,c.o)(),a=(0,i.useRouter)(),{toast:j}=(0,h.dj)(),{addArticle:v}=(0,m.P)(),[N,y]=(0,t.useState)(!1),[b,g]=(0,t.useState)({poster:null,additionalImages:[],author:"",newsType:"",category:"",title:"",content:"",tags:[],publishDate:"",audio:null}),f=async e=>{if(e.preventDefault(),!b.title||!b.newsType){j({title:"Error",description:"Title and news type are required",variant:"destructive"});return}y(!0),v({language:s,title:b.title,category:b.newsType,author:b.author||"Admin",image:"/placeholder.svg?height=80&width=120",views:0,content:b.content}),j({title:"Success",description:"News has been created successfully"}),y(!1),a.push("/dashboard/articles")},w=(e,s)=>{var a;let l=null===(a=e.target.files)||void 0===a?void 0:a[0];l&&g({...b,[s]:l})};return(0,l.jsx)(n.N,{children:(0,l.jsxs)("div",{children:[(0,l.jsx)("h2",{className:"mb-6 text-2xl font-bold",children:e("addArticle")}),(0,l.jsxs)(x.Zp,{children:[(0,l.jsx)(x.aR,{className:"filter-section-dark",children:(0,l.jsx)(x.ZB,{className:"text-white",children:e("addArticle")})}),(0,l.jsx)(x.Wu,{className:"p-6",children:(0,l.jsxs)("form",{onSubmit:f,className:"space-y-6",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)("label",{className:"text-sm font-medium",children:e("title")}),(0,l.jsx)(r.p,{value:b.title,onChange:e=>g({...b,title:e.target.value}),placeholder:e("title"),required:!0})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)("label",{className:"text-sm font-medium",children:e("poster")}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(r.p,{type:"file",accept:"image/*",onChange:e=>w(e,"poster"),className:"hidden",id:"poster"}),(0,l.jsxs)(d.$,{type:"button",variant:"outline",onClick:()=>{var e;return null===(e=document.getElementById("poster"))||void 0===e?void 0:e.click()},children:[(0,l.jsx)(p.A,{className:"mr-2 h-4 w-4"}),e("uploadPoster")]}),b.poster&&(0,l.jsx)("span",{className:"text-sm",children:b.poster.name})]})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)("label",{className:"text-sm font-medium",children:e("newsType")}),(0,l.jsxs)(o.l6,{value:b.newsType,onValueChange:e=>g({...b,newsType:e}),required:!0,children:[(0,l.jsx)(o.bq,{children:(0,l.jsx)(o.yv,{placeholder:e("selectNewsType")})}),(0,l.jsxs)(o.gC,{children:[(0,l.jsx)(o.eb,{value:"Янгиликлар",children:"Янгиликлар"}),(0,l.jsx)(o.eb,{value:"Эълонлар",children:"Эълонлар"}),(0,l.jsx)(o.eb,{value:"Баннер",children:"Баннер"}),(0,l.jsx)(o.eb,{value:"Биз ҳақимизда",children:"Биз ҳақимизда"})]})]})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)("label",{className:"text-sm font-medium",children:e("content")}),(0,l.jsx)(u.d,{value:b.content,onChange:e=>g({...b,content:e}),placeholder:e("content")})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)("label",{className:"text-sm font-medium",children:e("audio")}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(r.p,{type:"file",accept:"audio/*",onChange:e=>w(e,"audio"),className:"hidden",id:"audio"}),(0,l.jsxs)(d.$,{type:"button",variant:"outline",onClick:()=>{var e;return null===(e=document.getElementById("audio"))||void 0===e?void 0:e.click()},children:[(0,l.jsx)(p.A,{className:"mr-2 h-4 w-4"}),e("uploadAudio")]}),b.audio&&(0,l.jsx)("span",{className:"text-sm",children:b.audio.name})]})]}),(0,l.jsx)("div",{className:"flex justify-end",children:(0,l.jsx)(d.$,{type:"submit",className:"button-primary",disabled:N,children:e(N?"saving":"save")})})]})})]})]})})}}},e=>{var s=s=>e(e.s=s);e.O(0,[8633,3482,3963,2355,5574,5427,9809,1677,3813,8441,1684,7358],()=>s(1859)),_N_E=e.O()}]);