(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4909],{492:(e,a,l)=>{"use strict";l.d(a,{A:()=>s});let s=(0,l(9946).A)("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]])},1948:(e,a,l)=>{"use strict";l.r(a),l.d(a,{default:()=>N});var s=l(5155),i=l(2115),t=l(5695),n=l(3604),r=l(7733),o=l(7168),d=l(9852),u=l(5784),c=l(9474),m=l(8482),h=l(3580),p=l(1677),x=l(492),g=l(6766);function N(){let{t:e}=(0,r.o)(),a=(0,t.useRouter)(),l=(0,t.useParams)(),{toast:N}=(0,h.dj)(),{leaders:v,updateLeader:b}=(0,p.P)(),[j,f]=(0,i.useState)(!1),[y,C]=(0,i.useState)({language:"ru",fullName:"",position:"",phoneNumber:"",email:"",bio:"",photo:null,currentPhoto:""});(0,i.useEffect)(()=>{let e=l.id,s=null;for(let a of["en","ru","uz"]){var i;let l=null===(i=v[a])||void 0===i?void 0:i.find(a=>a.id===e);if(l){s=l;break}}s?C({language:s.language,fullName:s.fullName,position:s.position,phoneNumber:s.phoneNumber,email:s.email,bio:s.bio||"",photo:null,currentPhoto:s.photo||"/placeholder.svg?height=100&width=100"}):(N({title:"Error",description:"Manager not found",variant:"destructive"}),a.push("/dashboard/managers"))},[l.id,v,a,N]);let k=async e=>{if(e.preventDefault(),!y.fullName||!y.position||!y.phoneNumber||!y.email){N({title:"Error",description:"Full name, position, phone number, and email are required",variant:"destructive"});return}f(!0);let s=l.id;try{b(s,y.language,{fullName:y.fullName,position:y.position,phoneNumber:y.phoneNumber,email:y.email,bio:y.bio,language:y.language}),N({title:"Success",description:"Manager has been updated successfully"}),a.push("/dashboard/managers")}catch(e){N({title:"Error",description:"Failed to update manager",variant:"destructive"})}finally{f(!1)}};return(0,s.jsx)(n.N,{children:(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"mb-6 text-2xl font-bold",children:e("editManager")}),(0,s.jsxs)(m.Zp,{children:[(0,s.jsx)(m.aR,{className:"filter-section-dark",children:(0,s.jsx)(m.ZB,{className:"text-white",children:e("editManager")})}),(0,s.jsx)(m.Wu,{className:"p-6",children:(0,s.jsxs)("form",{onSubmit:k,className:"space-y-6",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-sm font-medium",children:e("language")}),(0,s.jsxs)(u.l6,{value:y.language,onValueChange:e=>C({...y,language:e}),children:[(0,s.jsx)(u.bq,{children:(0,s.jsx)(u.yv,{placeholder:e("selectLanguage")})}),(0,s.jsxs)(u.gC,{children:[(0,s.jsx)(u.eb,{value:"ru",children:"Русский язык"}),(0,s.jsx)(u.eb,{value:"uz",children:"O'zbek tili"}),(0,s.jsx)(u.eb,{value:"en",children:"English"})]})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-sm font-medium",children:e("fullName")}),(0,s.jsx)(d.p,{value:y.fullName,onChange:e=>C({...y,fullName:e.target.value}),placeholder:e("fullName"),required:!0})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-sm font-medium",children:e("position")}),(0,s.jsx)(d.p,{value:y.position,onChange:e=>C({...y,position:e.target.value}),placeholder:e("position"),required:!0})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-sm font-medium",children:e("phoneNumber")}),(0,s.jsx)(d.p,{value:y.phoneNumber,onChange:e=>C({...y,phoneNumber:e.target.value}),placeholder:"+998 90 123 45 67",required:!0})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-sm font-medium",children:e("email")}),(0,s.jsx)(d.p,{type:"email",value:y.email,onChange:e=>C({...y,email:e.target.value}),placeholder:"example@example.com",required:!0})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-sm font-medium",children:e("bio")}),(0,s.jsx)(c.T,{value:y.bio,onChange:e=>C({...y,bio:e.target.value}),placeholder:e("bio"),rows:4})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-sm font-medium",children:e("photo")}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[y.currentPhoto&&(0,s.jsx)(g.default,{src:y.currentPhoto||"/placeholder.svg",alt:y.fullName,width:80,height:80,className:"rounded-full border"}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(d.p,{type:"file",accept:"image/*",onChange:e=>{var a;let l=null===(a=e.target.files)||void 0===a?void 0:a[0];l&&C({...y,photo:l})},className:"hidden",id:"photo"}),(0,s.jsxs)(o.$,{type:"button",variant:"outline",onClick:()=>{var e;return null===(e=document.getElementById("photo"))||void 0===e?void 0:e.click()},children:[(0,s.jsx)(x.A,{className:"mr-2 h-4 w-4"}),e("uploadPhoto")]}),y.photo&&(0,s.jsx)("span",{className:"text-sm",children:y.photo.name})]})]})]}),(0,s.jsx)("div",{className:"flex justify-end",children:(0,s.jsx)(o.$,{type:"submit",className:"button-primary",disabled:j,children:e(j?"saving":"save")})})]})})]})]})})}},4831:(e,a,l)=>{Promise.resolve().then(l.bind(l,1948))}},e=>{var a=a=>e(e.s=a);e.O(0,[8633,3482,3963,2355,6766,5427,9809,1677,4303,8441,1684,7358],()=>a(4831)),_N_E=e.O()}]);